(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bffdbec"],{1899:function(t,e,i){"use strict";var s=i("c0b5"),n=i.n(s);n.a},2330:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-layout"},[i("h2",[t._v("创建试卷")]),t._v(" "),i("div",{staticClass:"add-layout-content"},[i("el-button",{attrs:{plain:""},on:{click:t.showDialog}},[t._v("添加新题")]),t._v(" "),i("div",{staticClass:"content-list"},[i("div",{staticClass:"top-title"},[i("h3",[t._v(t._s(t.title))]),t._v(" "),i("p",[t._v("考试时间：1小时30分钟 监考人：刘于 开始考试时间："+t._s(t.starttime)+" 阅卷人：刘于")])]),t._v(" "),t._l(t.questionList,function(e,s){return i("div",{key:s,staticClass:"list"},[i("div",{staticClass:"style_questionitem__3ETlC",attrs:{"data-id":e.questions_id}},[i("h4",[t._v(t._s(s+1)+"："+t._s(e.title)+" "),i("a",{staticStyle:{float:"right"},attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteExam(s)}}},[t._v("删除")])]),t._v(" "),i("div",{staticClass:"markdown"},[i("pre",[t._v(t._s(e.questions_stem))])])])])})],2),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.createExam}},[t._v("创建试卷")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"add-drawer"},[i("div",{staticClass:"mask",on:{click:t.showDialog}}),t._v(" "),i("div",{staticClass:"add-drawer-right"},[i("h3",[t._v("添加试题")]),t._v(" "),i("ul",t._l(t.allQuestions,function(e,s){return i("li",{key:s},[t._v(t._s(e.title))])}),0)])])])},n=[],a=i("f499"),r=i.n(a),o=(i("ac6a"),i("96cf"),i("3b8d")),c=i("cebc"),u=i("ed08"),l=i("2f62"),d={data:function(){return{flag:!1,data:"",title:"",starttime:"",questionList:[],allQuestions:[]}},created:function(){var t=JSON.parse(window.localStorage.getItem("getSubmitExam"));this.data=t,this.title=t.title,this.starttime=Object(u["g"])(t.start_time),this.questionList=t.questions,this.getQuestion()},methods:Object(c["a"])({},Object(l["b"])({renewal:"exam/renewal",allQuestion:"exam/allQuestion"}),{showDialog:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.flag=!this.flag,!this.flag){t.next=5;break}return t.next=4,this.allQuestion();case 4:this.allQuestions=t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createExam:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={question_ids:this.question_ids},console.log(e,"data"),t.next=4,this.renewal({header:this.data.exam_exam_id,data:e});case 4:i=t.sent,console.log(i,"更新试卷..."),this.$router.push({path:"/exam/list"});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deleteExam:function(t){var e=this;this.$confirm("是否要删除该题目?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0,customClass:"warning"}).then(function(){e.questionList.splice(t,1),e.getQuestion()},function(){})},getQuestion:function(){var t=[];this.questionList.forEach(function(e){t.push(e.questions_id)}),this.question_ids=r()(t)}}),mounted:function(){}},f=d,h=(i("1899"),i("2877")),v=Object(h["a"])(f,s,n,!1,null,"5be1f2ad",null);e["default"]=v.exports},a21f:function(t,e,i){var s=i("584a"),n=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},c0b5:function(t,e,i){},f499:function(t,e,i){t.exports=i("a21f")}}]);