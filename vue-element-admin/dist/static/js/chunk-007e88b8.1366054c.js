(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-007e88b8"],{7200:function(e,t,r){"use strict";var a=r("ca7f"),s=r.n(a);s.a},a21f:function(e,t,r){var a=r("584a"),s=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},c0b2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("p",{staticClass:"text"},[e._v("添加考试")]),e._v(" "),r("div",{staticClass:"content"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{staticClass:"babels",attrs:{label:"试卷名称",prop:"name"}},[r("br"),e._v(" "),r("el-input",{staticClass:"name",model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"babels",attrs:{label:"选择考试类型",prop:"exam_id"}},[r("br"),e._v(" "),r("el-select",{staticClass:"select",staticStyle:{width:"120px"},model:{value:e.ruleForm.exam_id,callback:function(t){e.$set(e.ruleForm,"exam_id",t)},expression:"ruleForm.exam_id"}},e._l(e.allExamTypes,function(e,t){return r("el-option",{key:t,attrs:{label:e.exam_name,value:e.exam_id}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"babels",attrs:{label:"选择课程",prop:"subject_id"}},[r("br"),e._v(" "),r("el-select",{staticClass:"select",staticStyle:{width:"120px"},model:{value:e.ruleForm.subject_id,callback:function(t){e.$set(e.ruleForm,"subject_id",t)},expression:"ruleForm.subject_id"}},e._l(e.allExamSubjects,function(e,t){return r("el-option",{key:t,attrs:{label:e.subject_text,value:e.subject_id}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"babels",attrs:{label:"设置题量",prop:"num"}},[r("br"),e._v(" "),r("el-input-number",{staticStyle:{width:"90px"},attrs:{"controls-position":"right",min:3,max:10},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1),e._v(" "),r("el-form-item",{staticClass:"babels",attrs:{label:"考试时间",required:""}},[r("br"),e._v(" "),r("el-col",{staticClass:"item",attrs:{span:11}},[r("el-form-item",{attrs:{prop:"starttime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.ruleForm.starttime,callback:function(t){e.$set(e.ruleForm,"starttime",t)},expression:"ruleForm.starttime"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{staticClass:"item",attrs:{span:11}},[r("el-form-item",{attrs:{prop:"endtime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.ruleForm.endtime,callback:function(t){e.$set(e.ruleForm,"endtime",t)},expression:"ruleForm.endtime"}})],1)],1)],1),e._v(" "),r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")])],1)],1)])},s=[],i=r("f499"),l=r.n(i),n=(r("7f7f"),r("96cf"),r("3b8d")),m=r("cebc"),u=r("ed08"),c=r("2f62"),o={name:"AddTheTest",data:function(){return{ruleForm:{num:3,name:"",exam_id:"",subject_id:"",starttime:"",endtime:"",delivery:!1},rules:{name:[{required:!0,message:"请输入试卷名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],region1:[{required:!0,message:"请选择考试类型",trigger:"change"}],region2:[{required:!0,message:"请选择课程",trigger:"change"}],num:[{required:!0,message:"请选择题量",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}},created:function(){this.getExamType(),this.getExamSubject()},computed:Object(m["a"])({},Object(c["e"])({allExamTypes:function(e){return e.exam.allExamTypes},allExamSubjects:function(e){return e.exam.allExamSubjects}})),methods:Object(m["a"])({},Object(c["b"])({getExamType:"exam/getExamType",getExamSubject:"exam/getExamSubject",getSubmitExam:"exam/getSubmitExam"}),{submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=9;break}return a={subject_id:t.ruleForm.subject_id,exam_id:t.ruleForm.exam_id,title:t.ruleForm.name,number:4,start_time:Object(u["d"])(t.ruleForm.starttime),end_time:Object(u["d"])(t.ruleForm.endtime)},e.next=4,t.getSubmitExam(a);case 4:s=e.sent,window.localStorage.setItem("getSubmitExam",l()(s.data)),t.$router.push({path:"/exam/addexam"}),e.next=11;break;case 9:return console.log("error submit!!"),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}})},d=o,b=(r("7200"),r("2877")),p=Object(b["a"])(d,a,s,!1,null,"1f295d4c",null);t["default"]=p.exports},ca7f:function(e,t,r){},f499:function(e,t,r){e.exports=r("a21f")}}]);