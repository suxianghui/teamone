(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86b2984e"],{"439f":function(t,e,a){},"500f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[a("h2",[t._v("学生管理")]),t._v(" "),a("div",{staticClass:"search-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"input",attrs:{placeholder:"输入学生姓名"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),a("el-select",{attrs:{placeholder:"请输入教室号",size:"mini"},model:{value:t.roomValue,callback:function(e){t.roomValue=e},expression:"roomValue"}},t._l(t.roomData,function(t){return a("el-option",{key:t.room_id,attrs:{label:t.room_text,value:t.room_text}})}),1),t._v(" "),a("el-select",{attrs:{placeholder:"请输入班级",size:"mini"},model:{value:t.classValue,callback:function(e){t.classValue=e},expression:"classValue"}},t._l(t.classData,function(t){return a("el-option",{key:t.grade_id,attrs:{label:t.grade_name,value:t.grade_name}})}),1),t._v(" "),a("button",{staticClass:"search-btn",on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("button",{staticClass:"reset-btn",on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("div",{staticClass:"main"},[a("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:t.pagenationData}},[a("el-table-column",{attrs:{prop:"student_name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"student_id",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grade_name",label:"班级"}}),t._v(" "),a("el-table-column",{attrs:{prop:"room_text",label:"教室号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"student_pwd",label:"密码"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.$index,t.pagenationData)}}},[t._v("\n            删除\n          ")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","page-sizes":t.pageChose,"page-size":t.pageSize,layout:"prev, pager, next, sizes, jumper",total:t.studentInfoShow?t.studentInfo.length:t.data.studentData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},s=[],r=(a("7514"),a("96cf"),a("3b8d")),i=a("cebc"),o=a("2f62"),u={data:function(){return{classValue:"",roomValue:"",input:"",roomData:[],classData:[],studentInfo:[],studentInfoShow:!1,pagenationData:[],pageChose:[5,30,50,80,100,150,200],pageSize:30,current:1}},computed:Object(i["a"])({},Object(o["e"])({data:function(t){return t.student}})),created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading,t.next=3,this.getMangerStudent();case 3:return console.log("createdstudentData",this.data.studentData.length),t.next=6,this.getMangerRoom();case 6:return this.roomData=t.sent,t.next=9,this.getMangerGrade();case 9:this.classData=t.sent,this.changePagenation();case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(i["a"])({},Object(o["b"])({getMangerStudent:"student/getMangerStudent",getMangerRoom:"student/getMangerRoom",getMangerGrade:"student/getMangerGrade",deleteMangerStudent:"student/deleteMangerStudent"}),{search:function(){var t=this;this.studentInfoShow=!0;var e=[];e=this.input&&this.classValue&&this.roomValue?this.data.studentData.filter(function(e){return e.student_name===t.input&&e.room_text===t.roomValue&&e.grade_name===t.classValue}):this.input&&this.classValue||this.input&&this.roomValue||this.roomValue&&this.classValue?this.data.studentData.filter(function(e){return e.student_name===t.input&&e.room_text===t.roomValue||e.student_name===t.input&&e.grade_name===t.classValue||e.room_text===t.roomValue&&e.grade_name===t.classValue}):this.data.studentData.filter(function(e){return e.student_name===t.input||e.room_text===t.roomValue||e.grade_name===t.classValue}),this.studentInfo=e,this.pagenationData=this.studentInfo,0==e.length&&alert("没有查到您要的信息")},reset:function(){this.studentInfoShow=!1,this.input="",this.classValue="",this.roomValue="",this.changePagenation()},handleSizeChange:function(t){this.pageSize=1*t,this.changePagenation()},handleCurrentChange:function(t){this.current=t,this.changePagenation()},deleteRow:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.pagenationData.find(function(t,a){return e===a}),console.log("result",n),t.next=4,this.deleteMangerStudent(n.student_id);case 4:return t.next=6,this.getMangerStudent();case 6:console.log("clickstudentData",this.data.studentData.length),a.splice(e,1);case 8:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),changePagenation:function(){this.pagenationData=this.studentInfoShow?this.pagenationData.slice((this.current-1)*this.pageSize,this.current*this.pageSize):this.data.studentData.slice((this.current-1)*this.pageSize,this.current*this.pageSize)}})},l=u,c=(a("e1fe"),a("2877")),d=Object(c["a"])(l,n,s,!1,null,"54ed1af8",null);e["default"]=d.exports},e1fe:function(t,e,a){"use strict";var n=a("439f"),s=a.n(n);s.a}}]);